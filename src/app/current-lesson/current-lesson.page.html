<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      Ваші заняття
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <div class="container" *ngIf="lastLessonAndDay">

    <ng-container *ngIf="lastLessonAndDay.role === 'next'">
      <div class="section">
        <ion-icon name="calendar" class="section-icon"></ion-icon>
        <h1>Найближче заняття:</h1>
      </div>
      <br><br>
      <div class="section">
        <ion-card-content >
          <p>{{ lastLessonAndDay.day.name }}</p>
          <h2>{{ lastLessonAndDay.lesson.subject }}</h2>
          <p>з {{ Lesson.prettyTime(lastLessonAndDay.lesson.startTime)}} по {{ Lesson.prettyTime(lastLessonAndDay.lesson.endTime)}}</p>
          <p *ngIf="lastLessonAndDay.lesson.link"><a href="{{ lastLessonAndDay.lesson.link }}" target="_blank">Посилання</a></p>
        </ion-card-content>
      </div>
      <br>
      <p>До початку залишилось:</p>

      <p>{{this.prettyTime(lastLessonAndDay)}}</p>

    </ng-container>

    <ng-container *ngIf="lastLessonAndDay.role === 'current'">
      <div class="section">
        <ion-icon name="time" class="section-icon"></ion-icon>
        <h1>Заняття зараз:</h1>
      </div>
      <br><br>
      <div class="section">
        <p>{{ lastLessonAndDay.day.name }}</p>
        <h2>{{ lastLessonAndDay.lesson.subject }}</h2>
        <p>з {{ Lesson.prettyTime(lastLessonAndDay.lesson.startTime)}} по {{ Lesson.prettyTime(lastLessonAndDay.lesson.endTime)}}</p>
        <p *ngIf="lastLessonAndDay.lesson.link"><a href="{{ lastLessonAndDay.lesson.link }}" target="_blank">Посилання</a></p>
      </div>
      <br>
      <p>До завершення залишилось:</p>
      <p>{{Lesson.prettyTime(lastLessonAndDay.lesson.endTime-Time.hourMinutesToMinutes(this.now.getHours(),this.now.getMinutes()))}}</p>
    </ng-container>


  </div>

  <div class="container" *ngIf="!lastLessonAndDay">
    <ng-container>
      <br>
      <br>
      <br>
      <br>
    <div class="section">
      <ion-icon name="cloud-offline-outline" class="section-icon"></ion-icon>
      <h1>Не призначено ніякі уроки :(</h1>
    </div>
    </ng-container>
  </div>

</ion-content>
